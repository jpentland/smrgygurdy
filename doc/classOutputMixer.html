<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>SMRGygurdy: OutputMixer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SMRGygurdy
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classOutputMixer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">OutputMixer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Output sink which mixes data from multiple sources before sending them to another sink.  
 <a href="classOutputMixer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="OutputMixer_8h_source.html">OutputMixer.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for OutputMixer:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classOutputMixer.png" usemap="#OutputMixer_map" alt=""/>
  <map id="OutputMixer_map" name="OutputMixer_map">
<area href="classOutputSink.html" title="Adaptor for ALSA audio output. " alt="OutputSink" shape="rect" coords="0,0,81,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae53c49565e3d1434d86bfe6018be8ed2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputMixer.html#ae53c49565e3d1434d86bfe6018be8ed2">OutputMixer</a> (int sources, <a class="el" href="classOutputSink.html">OutputSink</a> *outputHandle, int bufferSize)</td></tr>
<tr class="memdesc:ae53c49565e3d1434d86bfe6018be8ed2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new instance of <a class="el" href="classOutputMixer.html" title="Output sink which mixes data from multiple sources before sending them to another sink...">OutputMixer</a>.  <a href="#ae53c49565e3d1434d86bfe6018be8ed2">More...</a><br /></td></tr>
<tr class="separator:ae53c49565e3d1434d86bfe6018be8ed2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9429d903e139d9f768e85f82a44aac20"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputMixer.html#a9429d903e139d9f768e85f82a44aac20">OutputMixer</a> (int sources, std::string pcm, int bufferSize, int rate)</td></tr>
<tr class="memdesc:a9429d903e139d9f768e85f82a44aac20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new <a class="el" href="classOutputMixer.html" title="Output sink which mixes data from multiple sources before sending them to another sink...">OutputMixer</a> with its own aggregated <a class="el" href="classOutputDirect.html" title="Contains the connection to alsa, with a method to write directly to the PCM. ">OutputDirect</a>.  <a href="#a9429d903e139d9f768e85f82a44aac20">More...</a><br /></td></tr>
<tr class="separator:a9429d903e139d9f768e85f82a44aac20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f47d4a346141c304bb8a4ef76581f72"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7f47d4a346141c304bb8a4ef76581f72"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputMixer.html#a7f47d4a346141c304bb8a4ef76581f72">~OutputMixer</a> ()</td></tr>
<tr class="memdesc:a7f47d4a346141c304bb8a4ef76581f72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br /></td></tr>
<tr class="separator:a7f47d4a346141c304bb8a4ef76581f72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac200eb0a2308d41bd20a1bfed322d83a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputMixer.html#ac200eb0a2308d41bd20a1bfed322d83a">writeSamples</a> (short buffer[], int length)</td></tr>
<tr class="memdesc:ac200eb0a2308d41bd20a1bfed322d83a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write some samples to the mixer.  <a href="#ac200eb0a2308d41bd20a1bfed322d83a">More...</a><br /></td></tr>
<tr class="separator:ac200eb0a2308d41bd20a1bfed322d83a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5691c1d89fc3f17a96ecdc0020b9be8a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5691c1d89fc3f17a96ecdc0020b9be8a"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputMixer.html#a5691c1d89fc3f17a96ecdc0020b9be8a">close</a> ()</td></tr>
<tr class="memdesc:a5691c1d89fc3f17a96ecdc0020b9be8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the audio system, will wait for sound to finish. <br /></td></tr>
<tr class="separator:a5691c1d89fc3f17a96ecdc0020b9be8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Output sink which mixes data from multiple sources before sending them to another sink. </p>
<p>Currently the number of sources must be specified on creation of the sink. Additionally, threads using this source will block after writing to the mixer until all other threads have also written.</p>
<p>It should be possible in the future to use a vector of queues to allow asynchronous writing as well as the ability to add and remove sources on the fly. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae53c49565e3d1434d86bfe6018be8ed2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OutputMixer::OutputMixer </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sources</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classOutputSink.html">OutputSink</a> *&#160;</td>
          <td class="paramname"><em>outputHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bufferSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new instance of <a class="el" href="classOutputMixer.html" title="Output sink which mixes data from multiple sources before sending them to another sink...">OutputMixer</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sources</td><td>Number of sources which will use the mixer </td></tr>
    <tr><td class="paramname">outputHandle</td><td><a class="el" href="classOutputSink.html" title="Adaptor for ALSA audio output. ">OutputSink</a> to write data to </td></tr>
    <tr><td class="paramname">bufferSize</td><td>Size of buffer chunks to write </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9429d903e139d9f768e85f82a44aac20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OutputMixer::OutputMixer </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sources</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>pcm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bufferSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new <a class="el" href="classOutputMixer.html" title="Output sink which mixes data from multiple sources before sending them to another sink...">OutputMixer</a> with its own aggregated <a class="el" href="classOutputDirect.html" title="Contains the connection to alsa, with a method to write directly to the PCM. ">OutputDirect</a>. </p>
<p>Unlike the alternative constructor, the <a class="el" href="classOutputDirect.html" title="Contains the connection to alsa, with a method to write directly to the PCM. ">OutputDirect</a> will be automatically deleted on the instance's destrution </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ac200eb0a2308d41bd20a1bfed322d83a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void OutputMixer::writeSamples </td>
          <td>(</td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>buffer</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write some samples to the mixer. </p>
<p>Will be output mixed with other sources.</p>
<p>This will block until all other threads have written to the buffer. This means it is imperative to call this method often enough as other threads will be waiting for control.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Samples to be written </td></tr>
    <tr><td class="paramname">length</td><td>Number of samples to be written </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classOutputSink.html#aa4bd36b7af5db724ba3712b55dec5d98">OutputSink</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="OutputMixer_8h_source.html">OutputMixer.h</a></li>
<li>src/OutputMixer.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Nov 5 2015 16:48:08 for SMRGygurdy by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
