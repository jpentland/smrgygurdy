<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>HurdyGurdy: OutputMixer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>OutputMixer Class Reference</h1><!-- doxytag: class="OutputMixer" --><!-- doxytag: inherits="OutputSink" -->
<p>Output sink which mixes data from multiple sources before sending them to another sink.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="OutputMixer_8h_source.html">OutputMixer.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for OutputMixer:</div>
<div class="dynsection">
 <div class="center">
  <img src="classOutputMixer.png" usemap="#OutputMixer_map" alt=""/>
  <map id="OutputMixer_map" name="OutputMixer_map">
<area href="classOutputSink.html" alt="OutputSink" shape="rect" coords="0,0,81,24"/>
</map>
 </div>
</div>

<p><a href="classOutputMixer-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputMixer.html#ae53c49565e3d1434d86bfe6018be8ed2">OutputMixer</a> (int sources, <a class="el" href="classOutputSink.html">OutputSink</a> *outputHandle, int bufferSize)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new instance of <a class="el" href="classOutputMixer.html" title="Output sink which mixes data from multiple sources before sending them to another...">OutputMixer</a>.  <a href="#ae53c49565e3d1434d86bfe6018be8ed2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7f47d4a346141c304bb8a4ef76581f72"></a><!-- doxytag: member="OutputMixer::~OutputMixer" ref="a7f47d4a346141c304bb8a4ef76581f72" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputMixer.html#a7f47d4a346141c304bb8a4ef76581f72">~OutputMixer</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputMixer.html#ac200eb0a2308d41bd20a1bfed322d83a">writeSamples</a> (short buffer[], int length)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write some samples to the mixer.  <a href="#ac200eb0a2308d41bd20a1bfed322d83a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5691c1d89fc3f17a96ecdc0020b9be8a"></a><!-- doxytag: member="OutputMixer::close" ref="a5691c1d89fc3f17a96ecdc0020b9be8a" args="()" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputMixer.html#a5691c1d89fc3f17a96ecdc0020b9be8a">close</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Close the audio system, will wait for sound to finish. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Output sink which mixes data from multiple sources before sending them to another sink. </p>
<p>Currently the number of sources must be specified on creation of the sink. Additionally, threads using this source will block after writing to the mixer until all other threads have also written.</p>
<p>It should be possible in the future to use a vector of queues to allow asynchronous writing as well as the ability to add and remove sources on the fly. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae53c49565e3d1434d86bfe6018be8ed2"></a><!-- doxytag: member="OutputMixer::OutputMixer" ref="ae53c49565e3d1434d86bfe6018be8ed2" args="(int sources, OutputSink *outputHandle, int bufferSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OutputMixer::OutputMixer </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sources</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classOutputSink.html">OutputSink</a> *&nbsp;</td>
          <td class="paramname"> <em>outputHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bufferSize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a new instance of <a class="el" href="classOutputMixer.html" title="Output sink which mixes data from multiple sources before sending them to another...">OutputMixer</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sources</em>&nbsp;</td><td>Number of sources which will use the mixer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>outputHandle</em>&nbsp;</td><td><a class="el" href="classOutputSink.html" title="Adaptor for ALSA audio output.">OutputSink</a> to write data to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bufferSize</em>&nbsp;</td><td>Size of buffer chunks to write </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ac200eb0a2308d41bd20a1bfed322d83a"></a><!-- doxytag: member="OutputMixer::writeSamples" ref="ac200eb0a2308d41bd20a1bfed322d83a" args="(short buffer[], int length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OutputMixer::writeSamples </td>
          <td>(</td>
          <td class="paramtype">short&nbsp;</td>
          <td class="paramname"> <em>buffer</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>length</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write some samples to the mixer. </p>
<p>Will be output mixed with other sources.</p>
<p>This will block until all other threads have written to the buffer. This means it is imperative to call this method often enough as other threads will be waiting for control.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Samples to be written </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>Number of samples to be written </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classOutputSink.html#aa4bd36b7af5db724ba3712b55dec5d98">OutputSink</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="OutputMixer_8h_source.html">OutputMixer.h</a></li>
<li>OutputMixer.cpp</li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Functions</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated on Fri Apr 8 01:09:04 2011 for HurdyGurdy by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
